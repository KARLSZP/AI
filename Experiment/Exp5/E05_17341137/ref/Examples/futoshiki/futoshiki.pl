:-use_module(library(clpfd)).

solve1(Pra):-
 Vsa=[E11,E12,E13,E14,
 E21,E22,E23,E24,
 E31,E32,E33,E34,
 E41,E42,E43,E44],
 Vsa ins 1..4,
 all_different([E11,E12,E13,E14]),
 all_different([E21,E22,E23,E24]),
 all_different([E31,E32,E33,E34]),
 all_different([E41,E42,E43,E44]),
 all_different([E11,E21,E31,E41]),
 all_different([E12,E22,E32,E42]),
 all_different([E13,E23,E33,E43]),
 all_different([E14,E24,E34,E44]),
 E13#=3,
 E13#>E14,
 E22#>E12,
 E33#>E23,
 E41#>E42,
 E42#>E43,
 findall([[E11,E12,E13,E14]-[E21,E22,E23,E24]-[E31,E32,E33,E34]- [E41,E42,E43,E44]],label(Vsa),Pra).

solve2(Prb):-
 Vsa=[E11,E12,E13,E14,E15,
 E21,E22,E23,E24,E25,
 E31,E32,E33,E34,E35,
 E41,E42,E43,E44,E45,
 E51,E52,E53,E54,E55],
 Vsa ins 1..5,
 all_different([E11,E12,E13,E14,E15]),
 all_different([E21,E22,E23,E24,E25]),
 all_different([E31,E32,E33,E34,E35]),
 all_different([E41,E42,E43,E44,E45]),
 all_different([E51,E52,E53,E54,E55]),
 all_different([E11,E21,E31,E41,E51]),
 all_different([E12,E22,E32,E42,E52]),
 all_different([E13,E23,E33,E43,E53]),
 all_different([E14,E24,E34,E44,E54]),
 all_different([E15,E25,E35,E45,E55]),
 E55#=4,
 E11#>E12,
 E21#>E11,
 E22#<E23,
 E23#<E24,
 E24#<E25,
 E32#<E33,
 E51#>E52,
 findall([[E11,E12,E13,E14,E15]-[E21,E22,E23,E24,E25]-[E31,E32,E33,E34,E35]- [E41,E42,E43,E44,E45]-[E51,E52,E53,E54,E55]],label(Vsa),Prb).

solve3(Prc):-
 Vsa=[E11,E12,E13,E14,E15,E16,
 E21,E22,E23,E24,E25,E26,
 E31,E32,E33,E34,E35,E36,
 E41,E42,E43,E44,E45,E46,
 E51,E52,E53,E54,E55,E56,
 E61,E62,E63,E64,E65,E66],
 Vsa ins 1..6,
 all_different([E11,E12,E13,E14,E15,E16]),
 all_different([E21,E22,E23,E24,E25,E26]),
 all_different([E31,E32,E33,E34,E35,E36]),
 all_different([E41,E42,E43,E44,E45,E46]),
 all_different([E51,E52,E53,E54,E55,E56]),
 all_different([E61,E62,E63,E64,E65,E66]),
 all_different([E11,E21,E31,E41,E51,E61]),
 all_different([E12,E22,E32,E42,E52,E62]),
 all_different([E13,E23,E33,E43,E53,E63]),
 all_different([E14,E24,E34,E44,E54,E64]),
 all_different([E15,E25,E35,E45,E55,E65]),
 all_different([E16,E26,E36,E46,E56,E66]),
 E15#=2,
 E16#=6,
 E26#=3,
 E31#=3,
 E43#=4,
 E11#>E12,
 E22#>E32,
 E24#>E25,
 E31#<E32,
 E36#>E26,
 E43#>E44,
 E44#>E45,
 E64#<E65,
 E65#<E66,
 findall([[E11,E12,E13,E14,E15,E16]-[E21,E22,E23,E24,E25,E26]-[E31,E32,E33,E34,E35,E36]- [E41,E42,E43,E44,E45,E46]-[E51,E52,E53,E54,E55,E56]-[E61,E62,E63,E64,E65,E66]],label(Vsa),Prc).


solve4(Prd):-
 Vsa=[E11,E12,E13,E14,E15,E16,E17,
 E21,E22,E23,E24,E25,E26,E27,
 E31,E32,E33,E34,E35,E36,E37,
 E41,E42,E43,E44,E45,E46,E47,
 E51,E52,E53,E54,E55,E56,E57,
 E61,E62,E63,E64,E65,E66,E67,
 E71,E72,E73,E74,E75,E76,E77],
 Vsa ins 1..7,
 all_different([E11,E12,E13,E14,E15,E16,E17]),
 all_different([E21,E22,E23,E24,E25,E26,E27]),
 all_different([E31,E32,E33,E34,E35,E36,E37]),
 all_different([E41,E42,E43,E44,E45,E46,E47]),
 all_different([E51,E52,E53,E54,E55,E56,E57]),
 all_different([E61,E62,E63,E64,E65,E66,E67]),
 all_different([E71,E72,E73,E74,E75,E76,E77]),
 all_different([E11,E21,E31,E41,E51,E61,E71]),
 all_different([E12,E22,E32,E42,E52,E62,E72]),
 all_different([E13,E23,E33,E43,E53,E63,E73]),
 all_different([E14,E24,E34,E44,E54,E64,E74]),
 all_different([E15,E25,E35,E45,E55,E65,E75]),
 all_different([E16,E26,E36,E46,E56,E66,E76]),
 all_different([E17,E27,E37,E47,E57,E67,E77]),
 E17#=6,E47#=2,E62#=5,
 E11#<E12,E12#>E13,E16#>E17,
 E23#>E33,E25#>E26,E31#<E32,E32#<E33,E36#>E37,
 E42#<E43,E45#>E35,E45#>E46,E42#>E52,E52#>E53,E54#>E44,
 E53#>E63,E61#<E62,E65#<E75,E66#>E76,E76#>E77,
 findall([[E11,E12,E13,E14,E15,E16,E17]-[E21,E22,E23,E24,E25,E26,E27]-[E31,E32,E33,E34,E35,E36,E37]- [E41,E42,E43,E44,E45,E46,E47]-[E51,E52,E53,E54,E55,E56,E57]-[E61,E62,E63,E64,E65,E66,E67]-[E71,E72,E73,E74,E75,E76,E77]],label(Vsa),Prd).


solve5(Pre):-
 Vsa=[E11,E12,E13,E14,E15,E16,E17,E18,
 E21,E22,E23,E24,E25,E26,E27,E28,
 E31,E32,E33,E34,E35,E36,E37,E38,
 E41,E42,E43,E44,E45,E46,E47,E48,
 E51,E52,E53,E54,E55,E56,E57,E58,
 E61,E62,E63,E64,E65,E66,E67,E68,
 E71,E72,E73,E74,E75,E76,E77,E78,
 E81,E82,E83,E84,E85,E86,E87,E88],
 Vsa ins 1..8,
 all_different([E11,E12,E13,E14,E15,E16,E17,E18]),
 all_different([E21,E22,E23,E24,E25,E26,E27,E28]),
 all_different([E31,E32,E33,E34,E35,E36,E37,E38]),
 all_different([E41,E42,E43,E44,E45,E46,E47,E48]),
 all_different([E51,E52,E53,E54,E55,E56,E57,E58]),
 all_different([E61,E62,E63,E64,E65,E66,E67,E68]),
 all_different([E71,E72,E73,E74,E75,E76,E77,E78]),
 all_different([E81,E82,E83,E84,E85,E86,E87,E88]),
 all_different([E11,E21,E31,E41,E51,E61,E71,E81]),
 all_different([E12,E22,E32,E42,E52,E62,E72,E82]),
 all_different([E13,E23,E33,E43,E53,E63,E73,E83]),
 all_different([E14,E24,E34,E44,E54,E64,E74,E84]),
 all_different([E15,E25,E35,E45,E55,E65,E75,E85]),
 all_different([E16,E26,E36,E46,E56,E66,E76,E86]),
 all_different([E17,E27,E37,E47,E57,E67,E77,E87]),
 all_different([E18,E28,E38,E48,E58,E68,E78,E88]),
 E25#=6,E27#=7,E34#=4,E58#=6,E66#=4,E78#=3,
 E12#>E13,E13#>E14,E15#<E16,E16#<E17,E17#<E18,
 E21#<E22,E26#>E36,E26#<E27,E27#>E37,E33#>E23,
 E33#<E34,E34#>E24,E34#>E44,E41#>E42,E42#>E43,
 E44#>E54,E48#>E58,E51#>E52,E57#<E58,E58#<E68,
 E65#>E75,E65#<E66,E66#>E56,E66#>E67,E73#>E74,

 findall([[E11,E12,E13,E14,E15,E16,E17,E18]-[E21,E22,E23,E24,E25,E26,E27,E28]-[E31,E32,E33,E34,E35,E36,E37,E38]-[E41,E42,E43,E44,E45,E46,E47,E48]-[E51,E52,E53,E54,E55,E56,E57,E58]-[E61,E62,E63,E64,E65,E66,E67,E68]-[E71,E72,E73,E74,E75,E76,E77,E78]-[E81,E82,E83,E84,E85,E86,E87,E88]],label(Vsa),Pre).
